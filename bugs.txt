edited makePurchase to correctly return true/false